<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Horas - Streamers</title>
  <link rel="icon" type="image/png" href="https://cdn.discordapp.com/icons/1286711670734848072/027f16457608805832b82cafef15a08d.webp?size=1024">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #000000, #1a1a1a);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      overflow: hidden;
      color: white;
    }

    /* elementos decorativos no fundo */
    .bg-shape {
      position: absolute;
      border-radius: 50%;
      filter: blur(120px);
      opacity: 0.2;
    }
    .shape1 { width: 400px; height: 400px; background: #fff; top: -100px; left: -100px; }
    .shape2 { width: 500px; height: 500px; background: #666; bottom: -150px; right: -150px; }
    .shape3 { width: 300px; height: 300px; background: #999; top: 200px; right: 200px; }

    .container {
      position: relative;
      background: rgba(255, 255, 255, 0.05);
      padding: 30px 40px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.4);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      width: 450px;
      text-align: center;
      z-index: 1;
    }

    h1 {
      margin-bottom: 20px;
      font-size: 22px;
      color: #fff;
    }

    input {
      width: 90%;
      padding: 10px;
      margin: 6px 0;
      border: none;
      border-radius: 8px;
      outline: none;
      background: rgba(255, 255, 255, 0.1);
      color: white;
    }

    input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }

    button {
      margin: 8px 6px;
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      background: rgba(255,255,255,0.1);
      color: white;
      transition: 0.3s;
    }
    button:hover {
      background: rgba(255,255,255,0.25);
    }

    #resultado {
      margin-top: 20px;
      padding: 12px;
      background: rgba(255,255,255,0.1);
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      color: #fff;
    }

    #historico {
      margin-top: 20px;
      text-align: left;
      max-height: 200px;
      overflow-y: auto;
      padding: 10px;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.05);
    }

    .entrada {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 6px 0;
      padding: 6px 10px;
      border-radius: 6px;
      background: rgba(255,255,255,0.07);
      font-size: 14px;
    }

    .entrada span {
      flex-grow: 1;
    }

    .acao-btn {
      margin-left: 6px;
      border: none;
      background: transparent;
      cursor: pointer;
      color: white;
      font-size: 14px;
      transition: 0.2s;
    }

    .acao-btn.remover { color: #ff4d4d; }
    .acao-btn.remover:hover { color: #ff1a1a; }
    .acao-btn.editar { color: #00bfff; }
    .acao-btn.editar:hover { color: #1e90ff; }
  </style>
</head>
<body>
  <!-- formas no fundo -->
  <div class="bg-shape shape1"></div>
  <div class="bg-shape shape2"></div>
  <div class="bg-shape shape3"></div>

  <div class="container">
    <h1>üìä Calculadora de Horas</h1>
    
    <input type="text" id="nome" placeholder="Nome do streamer" />
    <input type="number" id="horas" placeholder="Horas" min="0" />
    <input type="number" id="minutos" placeholder="Minutos" min="0" max="59" />
    
    <div>
      <button onclick="contabilizar(1)">‚ûï Contabilizar</button>
      <button onclick="contabilizar(-1)">‚ûñ Subtrair</button>
      <button onclick="resetar()">üîÑ Resetar</button>
    </div>
    
    <div id="resultado">Nenhum c√°lculo realizado ainda.</div>
    <div id="historico"><strong>Hist√≥rico:</strong></div>
  </div>

  <script>
    let totalMinutos = 0;
    let streamerAtual = "";
    let historico = [];
    let idCounter = 0;

    function contabilizar(fator) {
      const nome = document.getElementById("nome").value.trim();
      const horas = parseInt(document.getElementById("horas").value) || 0;
      const minutos = parseInt(document.getElementById("minutos").value) || 0;

      if (!nome) {
        alert("Por favor, informe o nome do streamer!");
        return;
      }

      if (streamerAtual === "" || streamerAtual !== nome) {
        streamerAtual = nome;
      }

      const minutosTotais = (horas * 60 + minutos) * fator;
      totalMinutos += minutosTotais;

      historico.push({ id: idCounter++, nome, horas, minutos, fator });
      
      atualizarResultado();
      atualizarHistorico();

      // limpa os campos de horas/minutos, mas mant√©m nome
      document.getElementById("horas").value = "";
      document.getElementById("minutos").value = "";
    }

    function atualizarResultado() {
      const horas = Math.floor(totalMinutos / 60);
      const minutos = totalMinutos % 60;
      document.getElementById("resultado").innerText = 
        `${streamerAtual} ‚Üí ${horas}h ${minutos}min contabilizados.`;
    }

    function atualizarHistorico() {
      const container = document.getElementById("historico");
      container.innerHTML = "<strong>Hist√≥rico:</strong>";

      historico.forEach(entry => {
        const div = document.createElement("div");
        div.className = "entrada";
        div.innerHTML = `
          <span>${entry.nome}: ${entry.fator > 0 ? "+" : "-"} ${entry.horas}h ${entry.minutos}m</span>
          <button class="acao-btn editar" onclick="editar(${entry.id})">‚úèÔ∏è</button>
          <button class="acao-btn remover" onclick="remover(${entry.id})">‚ùå</button>
        `;
        container.appendChild(div);
      });
    }

    function remover(id) {
      const entry = historico.find(e => e.id === id);
      if (!entry) return;

      const minutosTotais = (entry.horas * 60 + entry.minutos) * entry.fator;
      totalMinutos -= minutosTotais;
      historico = historico.filter(e => e.id !== id);

      atualizarResultado();
      atualizarHistorico();
    }

    function editar(id) {
      const entry = historico.find(e => e.id === id);
      if (!entry) return;

      document.getElementById("nome").value = entry.nome;
      document.getElementById("horas").value = entry.horas;
      document.getElementById("minutos").value = entry.minutos;

      remover(id);
    }

    function resetar() {
      document.getElementById("nome").value = "";
      document.getElementById("horas").value = "";
      document.getElementById("minutos").value = "";
      totalMinutos = 0;
      streamerAtual = "";
      historico = [];
      idCounter = 0;
      document.getElementById("resultado").innerText = "Nenhum c√°lculo realizado ainda.";
      atualizarHistorico();
    }
  </script>
</body>
</html>
